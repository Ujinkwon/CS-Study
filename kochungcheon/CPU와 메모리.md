------------
~~요약~~
😃물리적으로 가까울 수록 쉽고 빠르다. 
📚양이 작을 수록 빠르다 

------------
## 컴퓨터 구조


![](https://velog.velcdn.com/images/greten/post/78794358-8230-47e3-8545-997a5901466d/image.png)

CPU - Memory - Disk

CPU는 명령어를 처리 하는 것!


![](https://velog.velcdn.com/images/greten/post/d3bf7913-a94c-440d-be35-a41ac4253242/image.png)

레지스터 - 프로세서가 바로사용할수 있는 데이터를 저장
IR - 현재 수행중인 명령어를 저장
MAR - 현재 접근할 메모리의 주소, 상대주소를 저장
AC - 연산장치의 입출력 데이터를 임시저장 메모리
MBR - 주기억장치에서 연산에 필요한 자료를 호출해서 데이터를 실제 저장
PSR - 프로그램 매 순간 수행 상태와 프로세서 상태 저장
DR - 연산에 필요할 피연산자를 저장
MQR - 곱셈에 곱수 나눗셈의 목을 저장

제어장치
기계명령어를 실행하는 순서를 제어

ALU 연산장치
산술 계산과 논리 연산 담당 


버스
![](https://velog.velcdn.com/images/greten/post/210722a8-2c2f-4486-8597-a24ece1e7d4a/image.png)

내부 버스
프로세서 내부에서 연산장치와 레지스터를 연결한다
외부 버스와도 연결한다. 
외부 버스
프로세서와 메모리/입출력장치 연결 입출력장치와 입출력장치 연결
메모리 
CPU가 프로그램 실행하거나 데이터를 참조하기 위해 필요한 정보를 저장해 두는 공간 


![](https://velog.velcdn.com/images/greten/post/5a00b1de-98d8-40ab-adc1-78f59dc210e8/image.png)

Control Bus (제어 버스)
프로세서가 저장장치와 입출력장치에 데이터를 전송할 때 사용. 현재 수행중인 작업 종류나 상태를 다른 장치에 알릴 때 이용하는 단방향 버스.

Address Bus (주소 버스)
프로세서가 메모리에 주조정보를 전달할 때 사용하는 단방향 버스.

Data Bus (데이터 버스)
프로세서가 메모리나 입출력 장치로 데이터를 전달 하거나 또는 데이터를 전달 받을 때 사용하는 양방향 버스


메모리의 계층구조 
![](https://velog.velcdn.com/images/greten/post/da233fc8-2c26-4394-bbe8-15abcd7528e5/image.png)

메모리를 필요에 따라 여러가지 종류로 나눈 것을 말함. 
(cpu가 메모리에 빨리 접근 하기 위해서)

------CPU 내부 -----------  ------- CPU 외부 ------
레지스터 - 캐시(L1, L2, L3) - 메인 메모리 - 하드 디스크 
(물리적으로 CPU와 가까울 수록 빠르고 멀수록 느리다.)

디코딩 하는 데 걸리는 시간은 메모리가 작을 수록 빠르다.
참조의 지역성: 자주 쓰이는 데이터는 앞으로도 자주 쓰인다. 

즉, 메인 메모리에 모든 걸 저장해서 CPU가 데이터를 가져와서 처리 하는 것보다 
자주 쓰이는 데이터를 캐시에 복사하고 사용하는 것이 더 빠르다. 



보조기억장치(SSD, HDD) - 하드 디스크
![](https://velog.velcdn.com/images/greten/post/758fbdfe-2907-434c-9583-53d729bbc849/image.png)

반영구적 데이터 보관 가능 : 컴퓨터 전원이 꺼져도 데이터가 지워지지 않는 다 .

주기억장치(RAM) - 메인 메모리
![](https://velog.velcdn.com/images/greten/post/2cbe9d2f-b57d-4237-b1f9-164e6bef3b02/image.png)

당장 실행되어야 할 것들을 저장/ 하드디스크로부터 일정량의 데이터를 복사해서 저장하고 
CPU 필요에 따라 CPU에 전달   
휘발성 메모리: 컴퓨터 전원이 꺼지면 데이터가 지워짐/ 데이터 처리 속도가 하드 디스크 보다 빠름

메인 메모리 영역
![](https://velog.velcdn.com/images/greten/post/e995aec0-13d7-40d0-ad69-784a9711675b/image.png)

프로그램이 실행되면 운영체제는 메인 메모리에 실행에 필요한 메모리 공간을 할당한다.
코드영역: 프로그램의 소스코드가 저장되는 영역 CPU는 코드 영역에 저장된 명령어를 가져와 처리
데이터 영역: 전역 변수와 정적 변수가 저장. 프로그램 시작과 함께 할당. 프로그램이 종료되면 사라짐.
스택영역: 프로그램이 사용하는 임시 메모리 영역. 지역 변수와 매개 변수가 저장되는 영역. 함수 호출과 함께 할당 되며 함수 종료시 사라진다. 컴파일 타임에 의해 영역 크기가 결정
힙영역: 사용자에 의해 메모리 공간이 동적으로 할당 되고 해제되는 영역. 동적 할당을 통해 생성된 동적 변수를 관리하기 위한 영역. 런타임에 의해 크기가 결정
* 동적 메모리 할당  
컴퓨터 프로그래밍에서 실행시간 동안 사용할 메모리 공간을 할당하는 것.사용 종료시 운영 체제에  해당 영역을 반납  

* 스택 오버플로우, 힙 오버플로우
스택과 힙은 같은 공간을 공유. 메모리 상단부 주소부터 힙에게 할당 메모리 하단부 주소부터 스택에 할당. 각 영역이 반대 영역을 침범라는 일을 스택/ 힙 오버플로우라고 함. 
캐시메모리
메인 메모리와 CPU 속도 차이를 보완하기 위해 존재 
메모리 중  CPU와  물리적으로 가까워서 가장 빠름
CPU는 필요한 데이터를 캐시에서 먼저 찾고 메인메모리로 간다. 
캐시의 성능은 캐시의 히트율이 높을 수록 높다. 
캐시 히트율: CPU가 찾으려는 내용이 캐시에 얼마냐 많은 지를 의미
* 참조 
메모리의 데이터 관리 
LRU 알고리즘 최근에 데이터가 많이 쓰이지 않았으면 메모리에서 아웃시키는 방식.



🧑‍💻면접 질문
레지스터가 가장 빠른 데 왜 모든 데이터를 레지스터에 저장 시키지 않나요?
경제성 이유. 메모리 계층에서 상층에 속할 수록 비싸다. 

CPU I/O 도중 생기는 병목 현상 해결 방법
메모리를 계층화 시켜 해결. 자주 사용하는 데이터는 캐시에 복사해 두어(참조의 지역성과 디코딩) 접근 속도를 향상 시켜 데이터 병목현상을 해결을 할 수 있다. 