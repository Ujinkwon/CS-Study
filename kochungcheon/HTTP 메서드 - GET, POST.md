----

# HTTP 메서드 - GET, POST

---



HTTP 메서드란?

클라이언트가 요청을 할 때 기대되는 행동.



GET: 리소스(최근에는 Representation) 조회

POST: 요청 데이터 처리, 주로 등록에 사용

---

## GET

- 리소스 조회 ex) GET/search? .......

- 서버에 전달하고 싶은 데이터는 query(쿼리 파라미터, 쿼리 스트링)을 통해 전달

- 메시지 바디를 사용해서 데이터를 전달할 수는 있음(최근 스택에는 허용하지만 지원하지 않는 곳이 많음.)

  

  

  리소스 조회 - 메세지 전달

  

  클라이언트  --------------------------  GET --------------------------------- >서버

  ​																							/groups/1010

  GET/groups/1010 HTTP/1.1											{ 

  HOST: localhost:8080															"groupname": "CS",

  ​																									"totalmember": 6,

  ​																								}

  

  

  클라이언트 <-------------------------- Response --------------------------- 서버

  응답 데이터																		/groups/1010

  HTTP/1.1 200 OK

  Content-Type: application/json

  Content-Length: 37              											{ 

  ​														                                          "groupname": "CS",

  {																								"totalmember": 6,

  ​    "groupname": "CS",			        									}

  ​	"totalmember": 6,

   }

  이렇게 전달 받은 데이터를 가지고 작업을 진행 할 수 있다.

------

## POST



- 요쳥 데이터 처리
- 메시지 바디를 통해 서버로 요청 데이터 전달
- 서브는 요청 데이터를 처리
  - 메세지 바디 통해 들어온 데이터를 처리하는 모든 기능 수행
- 전달된 데이터로 신규 리소스 등록, 프로세스 처리 

ex) 

​	  POST/groups HTTP/1.1

​	  Content-Type: application/json

​	  {

​	        "groupname": "CS",			        									

​	        "totalmember": 6,

​       }



리소스 등록 - 메시지 전달

​	  POST/groups HTTP/1.1                                                         

​	  Content-Type: application/json

​	  {

​	        "groupname": "CS",			        									

​	        "totalmember": 6,                                                          /groups

​       }

클라이언트-----------------------------POST---------------------------------> 서버





​																						 /groups

​																								||

​																								 V

​																						/groups/100 신규 리소스 식별자 생성

​	 																					{

​	        																				"groupname": "CS",			        									

​	        																				"totalmember": 6,                                                          

​       																					}



클라이언트-----------------------------POST---------------------------------> 서버



클라언트가 데이터를 서버로 보내면 서버에서 해당 데이터를 확인 후 

데이터 베이스에 등록, 신규 리소스 식별자 생성 이후 응답

신규로 자원을 생성할 시 일반적으로 201 Created로 보냄.(Location으로 자원이 신규생성된 url path와

등록된 자원 데이터도 보냄)

 



응답 데이터

HTTP/1.1 201 Created

Content-Type: application/json

Content-Length: 37															/groups/100

Location: /groups/100                                                     {

​	        																				    "groupname": "CS",			        									    														"totalmember": 6,                                                          

{

​    "groupname": "CS",			        									

​	"totalmember": 6,                                                          

 }

​      														

클라이언트<-----------------------------Response--------------------------------- 서버



## 예시를 통해 알아보는 POST

- POST 메서드는 대상 리소스가 리소스의 고유한 의미체계에 따라 요청에 포함된 표현을 처리하도록 요청

- POST 기능 예시

  - HTML 양식에 입력 된 필드와 같은 데이터 블록을 데이터 처리 프로세스에 제공

    ex) HTML FORM에 입력한 정보로 회원 가입, 주문 등에서 사용

  - 게시판, 뉴스 그룹,메일링 리스트, 블로그 또는 유사한 기사 그룹에 메시지 게시

    ex) 게시판 글쓰기, 댓글 달기

  - 서버가 아직 식별하지 않은 새 리소스 생성

    ex) 신규 주문 생성

  - 기존 자원에 데이터 추가

    ex) 한 문서 끝에 내용 추가하기

- 리소스  URI에 POST 요청이 오면 요청 데이터를 어떻게 처리할지 리소스마다 따로 정해야함 . 

​		-> 정해진 것이 없기 때문



## POST 요약

- 새 리소스 생성(등록)
  - 서버가 아직 식별하지 않은 새 리소스 생성

- **요청 데이터 처리**

  - 단순히 값하나를 바꾸는 것(데이터를 생성,변경하는 것) 넘어 프로세스를 처리하는 경우

    ex) 주문에서 결제완료 ->배달시작->배달완료 처럼 단순히 값 변경을 넘어 프로세스의 상태가 변경      되는 경우

  - POST의 결과로 새로운 리소스가 생성되지 않을 수도 있음

    ex) POST/oders/{orderid}/start-delivery {컨트롤 URI}

- 다른 메서드로 처리하기 애매한 경우

  ex) JSON으로 조회 데이터를 넘겨야 하는 데, GET 메서드를 사용하기 어려운 경우

  ​	 get 메서드 메세지 바디를 허용하지 않는 경우 많다. 이런 경우 조회하기 위해서 POST사용

- POST는 사실 거의 대부분의 것들을 할 수 있음. 

- 조회시는 get이 유리(서버끼리 약속으로 인해 GET으로 오면 캐싱을 한다. 그러나 POST로 오면 캐싱을 하기 매우 어려움)









모든 개발자를 위한 HTTP 웹 기본 지식/김영한 을 본 후 작성되었습니다.